#:import FixBrokenClipboardTextInput FixBrokenClipboardTextInput.FixBrokenClipboardTextInput

<Barcode>:
    orientation: 'vertical'
    BoxLayout:
        size_hint: 1,.08
        size_hint_max_y: 30

        orientation: 'horizontal'
        FixBrokenClipboardTextInput:
            id: pin_inputfield
            size_hint: .2, 1
            size_hint_min_x: 20
            multiline: False
            focus: True
            hint_text: "PIN or enter"
            on_text_validate: root.pin_inputfield_entered()

        FixBrokenClipboardTextInput:
            id: code_inputfield
            size_hint: 1, 1
            size_hint_min_x: 20
            multiline: False
            focus: True
            hint_text: "Scan barcode"
            on_text_validate: root.code_inputfield_entered()

    BoxLayout:
        orientation: 'horizontal'

        FixBrokenClipboardTextInput:
            size_hint: .9,1
            id: csv_output
            readonly: True
            hint_text: "Cards will show here."

        BoxLayout:
            orientation: 'vertical'
            size_hint: .1,1
            size_hint_min_x: 50

            Button:
                size_hint_max_y: 30
                id: copy
                text: "Copy"
                on_state: root.copy_output(self.state)

            Button:
                size_hint_max_y: 30
                id: clear
                text: "Clear"
                on_state: root.clear_release(self.state)

            Widget: